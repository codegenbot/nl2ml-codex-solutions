return std::accumulate(prices.begin(), prices.end(), 0.0, [&](double sum, float price) { return sum + price * (1 - discounts[std::distance(&price)]); });