[&](double sum, float price) { return sum + price * (1 - discounts[&price - prices.data()]); });