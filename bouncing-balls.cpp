total_distance += first_bounce_height * (1 + 3 * (1 - pow(bounciness_index, num_bounces))) / (1 - bounciness_index * bounciness_index);