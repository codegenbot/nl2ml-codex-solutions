totalSnow += static_cast<double>(rate) - melt * totalSnow;