for (int i = 2; i * i <= n; ++i) {
    // code inside the loop remains the same
}